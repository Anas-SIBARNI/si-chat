@media (max-width:600px){
  /* Grille : sidebar + colonne liste (2 colonnes) */
  .app-container{
    display:grid !important;
    grid-template-columns: var(--sidebar-w) 1fr !important;
    grid-template-rows: 100% !important;
    height: calc(var(--vh, 1vh) * 100) !important;
  }

  /* Colonne 1 : sidebar (toujours visible en mobile, jamais en bas) */
  .sidebar{ 
    display:block !important; 
    grid-column:1 !important; 
    grid-row:1 !important; 
  }

  /* Colonne 2 : ta “colonne listes” = tout élément .contacts en grille */
  .contacts{ 
    display:block !important; 
    grid-column:2 !important; 
    grid-row:1 !important; 
    overflow:auto; -webkit-overflow-scrolling:touch;
  }

  /* Masquer chat + profil par défaut */
  .chat, .profile{ display:none !important; }

  /* Sélection des listes à afficher selon le MODE (on garde tes .contacts sur les sections) */
  /* Par défaut ET mode-list -> montrer DISCUSSIONS, pas GROUPES */
  #discussions-section{ display:block !important; }
  #group-section{ display:none !important; }
  #contacts-section{ display:none !important; }

  /* mode-groups -> montrer GROUPES, pas DISCUSSIONS */
  .app-container.mode-groups #discussions-section{ display:none !important; }
  .app-container.mode-groups #group-section{ display:block !important; }

  /* mode-chat -> chat plein écran */
  .app-container.mode-chat{
    grid-template-columns: 1fr !important;
  }
  .app-container.mode-chat .sidebar,
  .app-container.mode-chat .contacts{ display:none !important; }
  .app-container.mode-chat .chat{ 
    display:grid !important; 
    grid-template-rows: var(--header-h) 1fr var(--footer-h) !important;
  }

  /* mode-contacts -> contacts plein écran */
  .app-container.mode-contacts{
    grid-template-columns: 1fr !important;
  }
  .app-container.mode-contacts .sidebar,
  .app-container.mode-contacts .contacts,
  .app-container.mode-contacts .chat,
  .app-container.mode-contacts .profile{ display:none !important; }
  .app-container.mode-contacts #contacts-section{ display:block !important; }
}
